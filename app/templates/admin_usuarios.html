{% extends 'base.html' %}

{% block content %} 
   
    <div class="formulario">       

        <h2>Gerenciar Usuários</h2>

        <!-- Formulário de cadastro -->
        <form method="POST">
            {{ form.hidden_tag() }}

            <div>{{ form.nome.label }} {{ form.nome() }}</div>
            <div>{{ form.sobrenome.label }} {{ form.sobrenome() }}</div>
            <div>{{ form.login_nome.label }} {{ form.login_nome() }}</div>
            <div>{{ form.senha.label }} {{ form.senha() }}</div>
            <div>{{ form.confirmacao_senha.label }} {{ form.confirmacao_senha() }}</div>
            <div>{{ form.admin.label }} {{ form.admin() }}</div>
            <div>{{ form.btnSubmit() }}</div>
        </form>

        <hr>

        <!-- Tabela de usuários -->
        <table class="tabela">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Login</th>
                    <th>Admin</th>
                    <th>Ações</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for usuario in usuarios %}
                <tr>
                    <td>{{ usuario.nome }} {{ usuario.sobrenome }}</td>
                    <td>{{ usuario.login_nome }}</td>
                    <td>{{ 'Sim' if usuario.admin else 'Não' }}</td>
                    <td>
                        <a href="{{ url_for('editar_usuario', id=usuario.id) }}">Editar</a>
                    </td>
                    <td>
                        <div class="botoes-acoes">
                            <a href="{{ url_for('remover_usuario', id=usuario.id) }}" class="btn-remover" onclick="return confirm('Deseja realmente remover este usuário?')">
                                Remover
                            </a>
                    </div>
                    </td
                </tr>
                {% endfor %}
            </tbody>
        </table>

    </div>
    
{% endblock %}